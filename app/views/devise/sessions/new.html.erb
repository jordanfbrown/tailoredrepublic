<% title_helper('Login/Signup') %>

<div class="content-wrapper">
  <div class="six columns">
    <h2>Login</h2>
    <p>I already have an account.</p>
    <%= form_for :session_user, url: user_session_path, html: { class: 'outlined' } do |f| %>
      <%= f.label :email %>
      <%= f.text_field :email %>
      <%= f.label :password %>
      <%= f.password_field :password %>
      <div>
        <%= f.check_box :remember_me %>
        <%= f.label :remember_me, class: "inline" %>
      </div>
      <%= f.submit 'Login', :class => "button full-width" %>
      <p><%= link_to "Forgot your password?", new_password_path('user') %></p>
    <% end %>
  </div>

  <div class="six columns">
    <h2>Sign Up</h2>
    <p>This is my first time here.</p>
    <%= form_for :user, url: registration_path(resource_name), html: { class: 'outlined' } do |f| %>
      <%= devise_error_messages! %>
      <% if @user_referred %>
        <p>It looks like you were referred by a friend. When you sign up, you will receive a credit of $20 which can be
          used towards any suit or shirt purchase!</p>
      <% end %>
      <%= f.label :name %>
      <%= f.text_field :name %>
      <%= f.label :email %>
      <%= f.email_field :email %>
      <%= f.label :password %>
      <%= f.password_field :password, data: { typetoggle: '#show_password' } %>
      <%= f.hidden_field :sign_up_method, value: User::SIGN_UP_METHOD_REGISTRATION %>
      <label><input type="checkbox" id="show_password">Show password</label>
      <div><%= f.submit "Sign Up", class: "button full-width" %></div>
    <% end %>
  </div>
</div>

<script>
  $(function() {
    $('#user_password').showPassword();
  });
</script>
